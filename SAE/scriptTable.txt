CREATE TABLE user (
  mail VARCHAR(250),
  firstname VARCHAR(50),
  lastname VARCHAR(75),
  password VARCHAR(300),
  price FLOAT,
  difficulty INT,
  gender INT,
  PRIMARY KEY (mail)
);

CREATE TABLE recipe (
  idRecipe INT,
  name VARCHAR(100),
  difficulty VARCHAR(20),
  price VARchar(20),
  quantity varCHAR(20),
  PRIMARY KEY(idRecipe)
);

CREATE TABLE playlist (
  idPlaylist INT,
  mailUser VARCHAR(250),
  name VARCHAR(250),
  PRIMARY KEY(idPlaylist),
  FOREIGN KEY(mailUser) REFERENCES user(mail)
);

CREATE TABLE recipePlaylist (
    idPlaylist INT,
    idRecipe INT,
    PRIMARY KEY(idPlaylist, idRecipe),
    FOREIGN KEY(idPlaylist) REFERENCES playlist(idPlaylist),
    FOREIGN KEY(idRecipe) REFERENCES recipe(idRecipe)
);

CREATE TABLE tag (
  idTag INT,
  name VARCHAR(50),
  PRIMARY KEY(idTag)
);

CREATE TABLE tagUser (
  mailUser VARCHAR(250),
  idTag INT,
  PRIMARY KEY(mailUser, idTag),
  FOREIGN KEY(mailUser) REFERENCES user(mail)
);


CREATE TABLE tagRecipe (
  idTag INT,
  idRecipe INT,
  PRIMARY KEY(idTag, idRecipe),
  FOREIGN KEY(idTag) REFERENCES tag(idTag),
  FOREIGN KEY(idRecipe) REFERENCES recipe(idRecipe)
);

CREATE TABLE likeRecipePerDay (
  idRecipe INT,
  dateLike DATE,
  count INT,
  PRIMARY KEY(idRecipe, dateLike),
  FOREIGN KEY(idRecipe) REFERENCES recipe(idRecipe)
);

CREATE TABLE ingredient (
  idIngredient INT,
  nameIngredient VARCHAR(250),
  pictureUrl TEXT,
  PRIMARY KEY(idIngredient)
);

CREATE TABLE ingredientRecipe (
  idIngredient INT,
  idRecipe INT,
  mesure VARCHAR(50),
  quantity FLOAT,
  nameIngredient VARCHAR(50),
  PRIMARY KEY(idIngredient, idRecipe),
  FOREIGN KEY(idRecipe) REFERENCES recipe(idRecipe),
  FOREIGN KEY(idIngredient) REFERENCES ingredient(idIngredient)
);

CREATE TABLE  recipeStep (
   idRecipe INT,
   step INT,
   name VARCHAR(250),
   PRIMARY KEY(idRecipe, step),
   FOREIGN KEY(idRecipe) REFERENCES recipe(idRecipe)
);